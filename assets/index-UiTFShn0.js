(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();const g=()=>{const n=document.querySelector(".theme-toggle");if(!n){console.error("Theme toggle button not found");return}const o=e=>{document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e);const t=n.querySelector("i");t&&(t.className=`fas fa-${e==="dark"?"sun":"moon"}`),document.body.classList.remove("theme-transition"),window.setTimeout(()=>{document.body.classList.add("theme-transition")},1)};n.addEventListener("click",()=>{const t=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";o(t)});const r=window.matchMedia("(prefers-color-scheme: dark)").matches,s=localStorage.getItem("theme")||(r?"dark":"light");o(s)},f=()=>{const n=document.getElementById("back-to-top");if(!n){console.warn("Back to top button not found");return}let o;const r=()=>{o&&window.cancelAnimationFrame(o),o=window.requestAnimationFrame(()=>{const e=window.scrollY||document.documentElement.scrollTop;n.classList.toggle("visible",e>300)})},s=()=>{window.scrollTo({top:0,behavior:"smooth",duration:500})};return window.addEventListener("scroll",r,{passive:!0}),n.addEventListener("click",s),()=>{window.removeEventListener("scroll",r),n.removeEventListener("click",s)}},h=()=>{const n=document.createElement("button");n.className="nav-burger",n.innerHTML='<i class="fas fa-bars"></i>',n.setAttribute("aria-label","Toggle navigation");const o=document.querySelector(".navbar"),r=document.querySelector(".nav-links");o.insertBefore(n,r);const s=()=>{const e=r.classList.contains("active");r.classList.toggle("active"),n.classList.toggle("active"),document.body.classList.toggle("menu-open"),n.innerHTML=e?'<i class="fas fa-bars"></i>':'<i class="fas fa-times"></i>'};n.addEventListener("click",s),r.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{s()})}),document.addEventListener("scroll",()=>{r.classList.contains("active")&&s()})},L=()=>{const n=document.querySelector(".language-selector"),o=document.querySelector(".current-lang");if(!n||!o){console.error("Éléments du sélecteur de langue non trouvés",{languageSelector:!!n,currentLang:!!o});return}const r=async e=>{try{const t=`${window.location.origin}/Portfolio/locales/${e}.json`;console.log("Chemin complet:",new URL(t,window.location.href).href);const c=await fetch(t);if(!c.ok)throw new Error(`HTTP Error! status: ${c.status}, path: ${t}`);const d=await c.json();document.documentElement.setAttribute("lang",e),o.textContent=e.toUpperCase(),document.querySelectorAll("[data-i18n]").forEach(a=>{const i=a.getAttribute("data-i18n"),l=i.split(".").reduce((u,m)=>{if(u!==void 0)return u[m]},d);l?a.tagName==="INPUT"||a.tagName==="TEXTAREA"?a.placeholder=l:a.textContent=l:console.warn(`Traduction manquante pour la clé: ${i}`,{lang:e,key:i,element:a.outerHTML})}),localStorage.setItem("language",e),console.log(`Langue changée en: ${e}`)}catch(t){console.error("Erreur lors du changement de langue:",t)}};n.addEventListener("click",()=>{const e=document.documentElement.getAttribute("lang")||"en",t=e==="en"?"fr":"en";console.log(`Changement de langue: ${e} -> ${t}`),r(t)});const s=localStorage.getItem("language")||(navigator.language.startsWith("fr")?"fr":"en");r(s)};document.addEventListener("DOMContentLoaded",()=>{g(),f(),h(),L()});
